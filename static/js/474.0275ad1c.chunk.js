"use strict";(self.webpackChunkrentaltechsystem=self.webpackChunkrentaltechsystem||[]).push([[474],{6474:function(n,e,t){t.r(e),t.d(e,{default:function(){return H}});var s=t(9439),i=t(2791),r=t(7689),a=t(9434),c=t(2141),o=t(5124),l=t(184),u=function(n){var e=n.setDrawer,t=(0,r.s0)();(0,a.v9)((function(n){return n.inst.activeInst}));return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(c.Z,{style:{width:"100%"},children:[(0,l.jsxs)(c.Z.Toggle,{variant:"transparent",className:"nav-link",children:[(0,l.jsx)(o.Z,{})," Admin"," "]}),(0,l.jsxs)(c.Z.Menu,{variant:"dark",children:[(0,l.jsx)(c.Z.Item,{children:(0,l.jsx)("p",{className:"nav-link",onClick:function(){e(!1),t("staffs")},children:"Staffs"})}),(0,l.jsx)(c.Z.Item,{children:(0,l.jsx)("p",{className:"nav-link",onClick:function(){e(!1),t("modes")},children:"Payment Modes"})}),(0,l.jsx)(c.Z.Item,{children:(0,l.jsx)("p",{className:"nav-link",onClick:function(){e(!1),t("owners")},children:"Property Owners"})}),(0,l.jsx)(c.Z.Item,{children:(0,l.jsx)("p",{className:"nav-link",onClick:function(){e(!1),t("buildings")},children:"Buildings/Hostels"})}),(0,l.jsx)(c.Z.Item,{children:(0,l.jsx)("p",{className:"nav-link",onClick:function(){e(!1),t("bills")},children:"Bills"})}),(0,l.jsx)(c.Z.Item,{children:(0,l.jsx)("p",{className:"nav-link",onClick:function(){e(!1),t("expensecats")},children:"Expense Categories"})}),(0,l.jsx)(c.Z.Item,{children:(0,l.jsx)("p",{className:"nav-link",onClick:function(){e(!1),t("expenses")},children:"Expenses"})})," ",(0,l.jsx)(c.Z.Item,{children:(0,l.jsx)("p",{className:"nav-link",onClick:function(){e(!1),t("edit")},children:"Edit Institution"})})]})]}),(0,l.jsx)("hr",{})]})},d=t(3872),x=t(2841),m=t(4903),k=t(1838),p=t(3696),h=t(8155),j=t(5086),f=t(3389),g=t(9250),v=t(4169),y=t(4428),C=t(1620),I=y.ZP.connect(C.l),N=function(n){I.emit("joinRoom",n)},L=t(7866),Z=t(3750),b=t(645),w=t(9362),T=t(8890),A=t(5690),V=t(6386),P=t(2118),F=t(4088),S=t(3902),z=t(7146),D=function(){var n=(0,a.I0)(),e=(0,a.v9)((function(n){return n.auth.user})),t=(0,a.v9)((function(n){return n.cred.activeCred})),s=(0,a.v9)((function(n){return n.online.online}));return(0,i.useEffect)((function(){I.on("message",(function(i){"staff"===i.messageType&&(0,L.Ui)(t.instLinker,e.token,n,s,"socket",i.dataValues),"mode"===i.messageType&&(0,Z.yl)(e.token,t.instLinker,n,s,"socket",i.dataValues),"expenseCat"===i.messageType&&(0,b.kt)(e.token,t.instLinker,n,s,"socket",i.dataValues),"expense"===i.messageType&&(0,w.mX)(e.token,t.instLinker,n,s,"socket",i.dataValues),"bill"===i.messageType&&(0,T.Cd)(e.token,t.instLinker,n,s,"socket",i.dataValues),"building"===i.messageType&&(0,A.Mu)(e.token,t.instLinker,n,s,"socket",i.dataValues),"house"===i.messageType&&(0,V.nb)(e.token,t.instLinker,n,s,"socket",i.dataValues),"invoice"===i.messageType&&(0,P._O)(e.token,t.instLinker,n,s,"socket",i.dataValues),"owner"===i.messageType&&(0,F.zP)(e.token,t.instLinker,n,s,"socket",i.dataValues),"payment"===i.messageType&&(0,S.xt)(e.token,t.instLinker,n,s,"socket",i.dataValues),"tenant"===i.messageType&&(0,L.Ui)(t.instLinker,e.token,n,s,"socket",i.dataValues),"sub"===i.messageType&&(0,z.Ld)(t.instLinker,e.token,n,s,"socket",i.dataValues)}))}),[]),(0,l.jsx)(l.Fragment,{})},E=t(4165),Y=t(5861),M=t(6461),B=t(6548),O=t(5420),R=function(){var n=(0,a.I0)(),e=(0,a.v9)((function(n){return n.auth.user})),t=(0,a.v9)((function(n){return n.cred.activeCred})),r=(0,a.v9)((function(n){return n.online.online})),c=(0,a.v9)((function(n){return n.inst.activeInst})),o=(0,a.v9)((function(n){return n.cred.creds})),u=(0,i.useState)(!1),d=(0,s.Z)(u,2),x=d[0],m=d[1],k=(0,i.useState)(!1),p=(0,s.Z)(k,2),h=p[0],j=p[1];(0,i.useEffect)((function(){f()}),[h,e]);var f=function(){var s=(0,Y.Z)((0,E.Z)().mark((function s(){var i;return(0,E.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(x){s.next=15;break}if(m(!0),e.token){s.next=8;break}return s.next=5,g();case 5:s.t0=s.sent,s.next=9;break;case 8:s.t0=e;case 9:if(i=s.t0,c.id&&0!=c.id){s.next=13;break}return s.next=13,(0,O.jB)(c,i,n);case 13:1!==parseInt(t.admin)&&1!==parseInt(t.staff)||v(i),m(!1);case 15:I.on("connect",(function(){j(!0)})),I.on("disconnect",(function(){j(!1)})),N({clientId:c.clientId}),o.map((function(n){n.email!=e.logger&&n.contact!=e.logger||N({token:e.token,instLinker:n.instLinker,room:n.instLinker})}));case 18:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}(),g=function(){var t=(0,Y.Z)((0,E.Z)().mark((function t(){var s,i;return(0,E.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,M.F6)(e.logger);case 2:if("register"!==(s=t.sent)&&0!==s){t.next=9;break}return t.next=6,(0,M.a4)(e.logger,e.password,e.linker,e.linker);case 6:i=t.sent,t.next=12;break;case 9:return t.next=11,(0,M.YV)(e.logger,e.password);case 11:i=t.sent;case 12:if(!i.token||!i.user){t.next=15;break}return n((0,B.x4)({name:e.name,email:e.logger,password:e.password,linker:e.linker,live:1,token:i.token,logger:e.logger,id:i.user.id})),t.abrupt("return",{name:e.name,email:e.logger,password:e.password,linker:e.linker,live:1,token:i.token,logger:e.logger,id:i.user.id});case 15:return t.abrupt("return",e);case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=function(e){(0,L.Ui)(t.instLinker,e.token,n,r),(0,w.mX)(e.token,t.instLinker,n,r),(0,b.kt)(e.token,t.instLinker,n,r),(0,Z.yl)(e.token,t.instLinker,n,r),(0,T.Cd)(e.token,t.instLinker,n,r),(0,A.Mu)(e.token,t.instLinker,n,r),(0,V.nb)(e.token,t.instLinker,n,r),(0,P._O)(e.token,t.instLinker,n,r),(0,F.zP)(e.token,t.instLinker,n,r),(0,S.xt)(e.token,t.instLinker,n,r),(0,z.Ld)(e.token,t.instLinker,n,r)};return(0,l.jsx)(l.Fragment,{})},U=t(8920),H=function(){var n=(0,r.s0)(),e=(0,a.v9)((function(n){return n.inst.activeInst})),t=(0,a.v9)((function(n){return n.auth.user})),c=(0,a.v9)((function(n){return n.sub.subs})),o=(0,a.v9)((function(n){return n.cred.activeCred})),y=(0,v.C)(c,o.instLinker),C=(0,i.useState)(!1),I=(0,s.Z)(C,2),N=I[0],L=I[1];return(0,i.useEffect)((function(){o.linker||n("/")}),[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(U.Z,{ToggleDrawer:function(){return L(!N)}}),(0,l.jsxs)("div",{style:{marginTop:"40px"},children:[(0,l.jsx)(D,{}),(0,l.jsx)(R,{}),(0,l.jsxs)("div",{className:"d-flex",children:[(0,l.jsxs)("div",{className:"bg-secondary ".concat(N?"side-menu-open":"side-menu"),children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{onClick:function(){L(!1),n("/".concat(e.name))},children:(0,l.jsxs)("strong",{className:"nav-link text-truncate",children:[(0,l.jsx)(d.Z,{})," ",e.name]})}),(0,l.jsx)("hr",{}),(0,l.jsx)("p",{onClick:function(){L(!1),n("profile")},children:(0,l.jsxs)("strong",{className:"nav-link text-truncate",children:[(0,l.jsx)(x.Z,{})," ",t.name||t.logger]})}),(0,l.jsx)("hr",{}),1===parseInt(o.admin)&&y>0?(0,l.jsx)(u,{setDrawer:L}):null,(1===parseInt(o.admin)||1===parseInt(o.staff))&&y>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{onClick:function(){L(!1),n("houses")},children:(0,l.jsxs)("strong",{className:"nav-link text-truncate",children:[(0,l.jsx)(m.Z,{})," Houses/Rooms"]})}),(0,l.jsx)("hr",{}),(0,l.jsx)("p",{onClick:function(){L(!1),n("tenants")},children:(0,l.jsxs)("strong",{className:"nav-link text-truncate",children:[(0,l.jsx)(k.Z,{})," Tenants"]})}),(0,l.jsx)("hr",{}),(0,l.jsx)("p",{onClick:function(){L(!1),n("invoices")},children:(0,l.jsxs)("strong",{className:"nav-link text-truncate",children:[(0,l.jsx)(p.Z,{})," Invoices"]})}),(0,l.jsx)("hr",{}),(0,l.jsx)("p",{onClick:function(){L(!1),n("payments")},children:(0,l.jsxs)("strong",{className:"nav-link text-truncate",children:[(0,l.jsx)(h.Z,{})," Payments"]})}),(0,l.jsx)("hr",{}),(0,l.jsx)("p",{onClick:function(){L(!1),n("monthly-report")},children:(0,l.jsxs)("strong",{className:"nav-link text-truncate",children:[(0,l.jsx)(j.Z,{})," Monthly Report"]})}),(0,l.jsx)("hr",{})]}):null]}),(0,l.jsxs)("p",{children:[y-2592e3<0&&1===parseInt(o.admin)?(0,l.jsx)("span",{onClick:function(){n("/".concat(e.name,"/activate/").concat(e.name,"/").concat(e.clientId)),L(!1)},className:"text-center",style:{color:"hotpink",cursor:"pointer"},children:(0,l.jsx)("small",{children:"Activate "})}):null," ",(0,l.jsx)("br",{}),(0,l.jsx)("span",{onClick:function(){n("/".concat(e.name,"/terms")),L(!1)},className:"text-center text-info",style:{cursor:"pointer",fontSize:"12px"},children:(0,l.jsx)("small",{children:"Terms And Conditions "})})," ",(0,l.jsx)("br",{}),(0,l.jsx)("span",{onClick:function(){n("/".concat(e.name,"/privacy")),L(!1)},className:"text-center text-info",style:{cursor:"pointer",fontSize:"12px"},children:(0,l.jsx)("small",{children:"Privacy Policy "})})," ",(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:"text-center text-light",style:{cursor:"pointer",fontSize:"12px"},children:(0,l.jsxs)("small",{children:[(0,l.jsx)(f.Z,{})," www.techsystems.world"]})}),(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:"text-center text-light",style:{cursor:"pointer",fontSize:"12px"},children:(0,l.jsxs)("small",{children:[(0,l.jsx)(g.Z,{})," contact.techsystems@gmail.com"]})}),(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:"text-center text-light",style:{cursor:"pointer",fontSize:"12px"},children:(0,l.jsxs)("small",{children:["\xa9 ",(new Date).getFullYear()," Techsystems"]})})]})]}),(0,l.jsxs)("div",{className:"".concat(N?"main-page-drawer-open":"main-page-drawer-closed"),children:[" ",y<0?(0,l.jsx)(l.Fragment,{children:c.length>0?(0,l.jsxs)("p",{className:"text-danger text-center h6",children:["Annual Period Lapsed"," ",1===parseInt(o.admin)?(0,l.jsx)("span",{className:"text-primary btn-link",style:{cursor:"pointer"},onClick:function(){return n("/".concat(e.name,"/activate/").concat(e.name,"/").concat(e.clientId))},children:(0,l.jsx)("em",{children:"Click To Activate"})}):"Contact Your Institution Admin to Activate"]}):(0,l.jsxs)("p",{className:"text-danger text-center h6",children:["Trial Period Lapsed"," ",1===parseInt(o.admin)?(0,l.jsx)("span",{className:"text-primary btn-link",style:{cursor:"pointer"},onClick:function(){return n("/".concat(e.name,"/activate/").concat(e.name,"/").concat(e.clientId))},children:(0,l.jsx)("em",{children:"Click To Activate"})}):"Contact Your Institution Admin to Activate"]})}):y<432e3?(0,l.jsx)(l.Fragment,{children:c.length>0?(0,l.jsxs)("p",{className:"text-danger text-center h6",children:["Annual Period Lapsing in ",parseInt(y/86400)," ","Days",1===parseInt(o.admin)?(0,l.jsx)("span",{className:"text-primary btn-link",style:{cursor:"pointer"},onClick:function(){return n("/".concat(e.name,"/activate/").concat(e.name,"/").concat(e.clientId))},children:(0,l.jsx)("em",{children:"Click To Activate"})}):"Contact Your Institution Admin to Activate"]}):(0,l.jsxs)("p",{className:"text-danger text-center h6",children:["Trial Period Lapsing In ",parseInt(y/86400)," ","Days",1===parseInt(o.admin)?(0,l.jsx)("span",{className:"text-primary btn-link",style:{cursor:"pointer"},onClick:function(){return n("/".concat(e.name,"/activate/").concat(e.name,"/").concat(e.clientId))},children:(0,l.jsx)("em",{children:"Click To Activate"})}):"Contact Your Institution Admin to Activate"]})}):null,(0,l.jsx)("div",{className:"bg-light",children:(0,l.jsx)(r.j3,{})})]})]})]})]})}}}]);
//# sourceMappingURL=474.0275ad1c.chunk.js.map